<!DOCTYPE html>
<html><head>
    <title>Music Streaming with Volumio and Raspberry Pi : Adam Whitlock</title>
    <meta charset="utf-8">
    <meta name="description" content="Reflections from a Whitlock" />
    <meta name="dc.relation" content="https://adamwhitlock.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    
    <link rel="stylesheet" href="https://adamwhitlock.com/style.min.d3da666ed9ed68d7ddcd192b882d21db9631617388ce5c8d8d37f54862ccd8ff.css" integrity="sha256-09pmbtntaNfdzRkriC0h25YxYXOIzlyNjTf1SGLM2P8=">


    
    
    <link rel="stylesheet" href="https://adamwhitlock.com/style.min.6f3a14bd01b83304e77630d040baec2b975905c1384ba4c806e573d55a4c0185.css" integrity="sha256-bzoUvQG4MwTndjDQQLrsK5dZBcE4S6TIBuVz1VpMAYU=">



    
    
    <link rel="stylesheet" href="https://adamwhitlock.com/assets/css/extra.css" media="screen">
    
    
    <script src="https://kit.fontawesome.com/818ce51a67.js" crossorigin="anonymous"></script>
    

    <script src="https://adamwhitlock.com/js/bulma.js"></script>

    <link rel="shortcut icon" type="image/x-icon" href="https://adamwhitlock.com/img/">
</head><body>
        <div id="container">
<div class="container">
<nav class="navbar is-transparent mb-4" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item title has-text-black" href="https://adamwhitlock.com">Adam Whitlock</a>
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbar-menu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div id="navbar-menu" class="navbar-menu">
    <div class="navbar-end">
        
        <a class="navbar-item" href="https://adamwhitlock.com/"  >Home</a>
        
        <a class="navbar-item is-active" href="https://adamwhitlock.com/archive/"  >Archive</a>
        
        <a class="navbar-item" href="https://adamwhitlock.com/coffee/"  >Coffee</a>
        
        <a class="navbar-item" href="https://adamwhitlock.com/about/"  >About</a>
        
        <a class="navbar-item" href="https://adamwhitlock.com/contact/"  >Contact</a>
        
    </div>
  </div>
</nav>
</div><div class="container">
                <div id="content">
<main aria-role="main">
  <div class="section">
    <div class="columns">
      <div class="column">
        <figure class="image ">
          
        </figure>
      </div>
    </div>
    <div class="columns">
      <div class="column">
        <div class="content">
          <h1 class="title is-3">Music Streaming With Volumio and Raspberry Pi</h1>
          <h2 class="subtitle is-5"><time>January 24, 2020</time></h2>
          <p class="subtitle is-4">Instructions on building your own Spotify streamer</p>
          <p>I wanted a device that could stream audio from a media server like Plex, not be reliant on Bluetooth for connectivity, allow me to use my existing speakers, and provide high quality audio output. I also wanted a solution that didn’t have me vendor-locked, like using Chromecast Audio or Amazon Echo. This left little options, other than buying a very nice wireless DAC or similar device.</p>
<p>About nine months ago it occurred to me that I could build what I wanted, far cheaper than most solutions. It would also prove to be a fun project and stretch some of my knowledge of audiophile equipment.</p>
<h2 id="the-idea">The Idea</h2>
<p>What I settled on was building a small Raspberry Pi with a DAC board built into it. This gave me the flexibility to run whatever operating system I wanted, access GPIO (general-purpose input/output) pins for additional capabilities, and a large equipment ecosystem that allowed me to pick what I wanted. I found an audiophile headless operating system named Volumio (<a href="https://volumio.org/">https://volumio.org/</a>), capable of providing all of the headless media streaming options I wanted.</p>
<h2 id="parts-list">Parts List</h2>
<h3 id="dac-board">DAC Board</h3>



<div class="columns is-centered">
  <img
    src="x400_board.png"
    alt="x400 Amplifier Board"
    decoding="async"
  />
</div>
<p>After some cursory research on Raspberry Pi DACs, I came across the X400 V3.0 DAC+AMP Audio Expansion board. Some of the features on this board include:</p>
<ul>
<li>32-bit/384kHz quality DAC</li>
<li>Large volume knob for external control</li>
<li>IR receiver for use with a remote control</li>
<li>RCA left/right outputs</li>
<li>3.5mm audio jack</li>
<li>Terminal block (I still call it a Phoenix connector) for speaker wire connections</li>
<li>Separate power input, capable of powering both the X400 V3.0 board and the Raspberry Pi board.</li>
</ul>
<p><strong>Amazon Link</strong>: <a href="https://www.amazon.com/gp/product/B07MKMD5PZ">https://www.amazon.com/gp/product/B07MKMD5PZ</a><br>
<strong>Cost:</strong> $37.99 USD</p>
<h3 id="case">Case</h3>



<div class="columns is-centered">
  <img
    src="x400_case.png"
    alt="WINGONEER X400 Case for Raspberry Pi 3"
    decoding="async"
  />
</div>
<p>The company “WINGONEER” provides a perfectly good case for the X400 V3.0 DAC+AMP board. While it’s not exactly my top choice in a case design, it provides parts like a large volume knob and a power button.</p>
<p><strong>Amazon Link (Raspberry PI 3 B+ and lower)</strong>: <a href="https://www.amazon.com/gp/product/B07M9TH4B5">https://www.amazon.com/gp/product/B07M9TH4B5</a><br>
<strong>Geekworm + Board Link (Raspberry Pi 4 compatible):</strong> <a href="https://geekworm.com/products/raspberry-pi-4-x400-dac-amp-audio-board-case-embedded-heatsink">https://geekworm.com/products/raspberry-pi-4-x400-dac-amp-audio-board-case-embedded-heatsink</a><br>
<strong>Cost:</strong> $23.99-$74.89 USD (depending on configuration)</p>
<h3 id="power">Power</h3>



<div class="columns is-centered">
  <img
    src="power_supply.png"
    alt="Power Supply Picture"
    decoding="async"
  />
</div>
<p>When choosing a power supply, ensure it provides enough amperage</p>
<p>I went with what’s arguably an overpowered solution for my power supply, but past experience with Raspberry Pi’s and cheap power supplies has me erring on the side of “enough, constant power” versus “just enough” power. The X400 V3.0 DAC+AMP board requires a power supply capable of providing 6–26 Volts DC, with &gt;=3 Amps recommended. I chose a power supply that provides 19 Volts DC and 3.42 Amps, more than sufficient to power both the DAC and Raspberry Pi.</p>
<p><strong>Amazon Link:</strong> <a href="https://www.amazon.com/gp/product/B014IU1GSC">https://www.amazon.com/gp/product/B014IU1GSC</a><br>
<strong>Cost:</strong> $11.49 USD</p>
<h3 id="raspberry-pi">Raspberry Pi</h3>
<p>When I built this streamer, the Raspberry Pi 4 was just released, with support for the X400 V3.0 DAC not stated anywhere. Most Raspberry Pi boards are overpowered for what we need to provide for the DAC hardware and supporting OS, so I was not worried about using a Raspberry Pi 3 B+ instead of the Raspberry Pi 4 inside my streamer. Given that the cost of the Raspberry Pi 3 B+ has come down, I will still recommend it as the best option for this build.</p>
<p><strong>Amazon Link (Raspberry Pi 3 B+):</strong> <a href="https://www.amazon.com/gp/product/B07BDR5PDW">https://www.amazon.com/gp/product/B07BDR5PDW</a><br>
<strong>Cost:</strong> $35–50 USD (Availability influences cost)</p>
<h3 id="sd-card">SD Card</h3>
<p>You will need a minimum of 4GB capacity, though 8GB is preferred. Given the cost of SD cards these days (&lt; $10 USD for 32GB), I would suggest getting the larger capacity so you can store some local media or reuse the card if you have different plans in the future. If you want to play media locally from the Raspberry Pi, get the largest SD card you feel comfortable purchasing.</p>
<p><strong>Amazon Link:</strong> <a href="https://www.amazon.com/Samsung-MicroSDHC-Adapter-MB-ME32GA-AM/dp/B06XWN9Q99">https://www.amazon.com/Samsung-MicroSDHC-Adapter-MB-ME32GA-AM/dp/B06XWN9Q99</a><br>
<strong>Cost:</strong> $7.99 USD</p>
<p>##Setup and Configuration</p>
<h3 id="assembly">Assembly</h3>
<p>Geekworm has a great visual instruction guide on how to assemble the DAC, Raspberry Pi, and fitting them into the metal case. While I could make my own steps, I’d rather link to their site for the guide.</p>
<p>One important assembly note is that you want to remove the `PWR` jumper from the DAC board before connecting an external power supply. The DAC power supply, as mentioned earlier, will power both the DAC board AND the Raspberry Pi. If you don’t remove the jumper, the power button will not work.</p>
<p><strong>Geekworm Instructions:</strong> <a href="https://geekworm.com/blogs/news/new-updated-raspberry-pi-x400-v3-0-dac-amp-expansion-board">https://geekworm.com/blogs/news/new-updated-raspberry-pi-x400-v3-0-dac-amp-expansion-board</a></p>
<h3 id="volumio-installation--configuration">Volumio Installation &amp; Configuration</h3>
<ol>
<li>Download the Raspbery Pi Volumio image from <a href="https://volumio.org/get-started/">https://volumio.org/get-started/</a></li>
<li>Using software like <a href="https://www.balena.io/etcher/">balenaEtcher</a> or `dd`, write the downloaded image to an available SD card.</li>
<li>Insert the SD card into the Raspberry Pi and power it on.</li>
<li>The initial boot will take a few minutes (up to 6 minutes)</li>
<li>Future boot times will not take nearly as long</li>
<li>Volumio will start a wireless hotspot when it’s unable to connect to a network. Search for the network `Volumio`, using `volumio2` as a password.</li>
<li>If you have Ethernet plugged in, you will need to find the IP address of your Volumio</li>
<li>Once connected, access the Volumio interface at <a href="http://volumio.local">http://volumio.local</a> or via IP address at 192.168.211.1.</li>
<li>The initial connection to the web interface presents you with configuration options, such as choosing a default language, naming your Volumio, and specifying which output device you prefer.</li>
<li>When presented the option for `Output`, move the slider to `Yes` for the question `I have an I2S DAC`</li>
<li>Select `ST400 DAC` as the DAC option</li>
<li>Once setup, you will be able to install plugins like Spotify or disable features like Bluetooth.</li>
</ol>
<h3 id="specifying-dac-output-in-volumio">Specifying DAC Output in Volumio</h3>
<ol>
<li>If not already connected, boot the Raspberry Pi and connect to it via the web interface address `volumio.local`</li>
<li>Once logged in, go to `Settings` and select `General Playback Options`</li>
<li>For `Audio Output` select `ST400 DAC`</li>
<li>Volumio should prompt to restart. Once restarted, you should be able to use the</li>
</ol>
<h2 id="remote-spotify-streamer">Remote Spotify Streamer</h2>
<p>I mostly use my Volumio Raspberry Pi as a remote Spotify streamer for a Marshall speaker in my office. To enable this feature, install the Spotify plugin via the `Plugins` menu option. Once installed and enabled, you can select your Volumio streamer in from the `Devices Available` options. The volume slider in Spotify will control the audio on the Volumio streamer. I personally set the audio where I need it and leave it alone, stopping audio playback when I need the room audio to be quiet.</p>



<div class="columns is-centered">
  <img
    src="spotify_screenshot.png"
    alt="Screenshot of Spotify showing Volumio device"
    decoding="async"
  />
</div>
<h2 id="problems-encountered">Problems Encountered</h2>
<p>I ran an over-the-air (OTA) Volumio update that caused my volume adjustment to stop working. I tried updating again and it still didn’t work. After some investigation, I found that the `Audio Output` setting in `General Playback Settings` was set for `IQaudIO DAC`. I can’t recall if I had set it originally as `IQaudIO DAC`, but I changed it to `ST400 DAC`, which fixed the issue.</p>
<p>The power button that came with the X400 V3.0 DAC metal case is incredibly bright. It illuminates my office at night without additional lights present. I’ll admit that I’ve thrown my stuffed “This is Fine” dog in front of it a number of times to block the light over the last year. I need to either disable the light permanently or add a resistor to drop the output. While it’s annoying, I still haven’t been moved to actually deal with it.</p>
<h2 id="thoughts-and-improvements">Thoughts and Improvements</h2>
<p>I wish I had performed more research into the DAC market before jumping into this project. I wasn’t familiar with Raspberry Pi compatible DAC boards when I had finally settled on the X400 V3.0 DAC. The features I needed are present in the DAC board I chose, but I could have been more informed about the types of board components. Knowing if I wanted a TI PCM5122 Burr Brown DAC, instead of an entirely different DAC, would have made me feel more confident. Ultimately I am happy with the decision I made and I think it sounds great.</p>

        </div>
      </div>
    </div>
  </div>
</main>

                </div>
            </div><footer class="footer">
  <div class="has-text-centered">
    <layer>
      
        
          
          <a class="footer-social" href="https://linkedin.com/in/alloydwhitlock"><i class='fab fa-linkedin fa-lg'></i></a>
          
          <a class="footer-social" href="https://github.com/alloydwhitlock"><i class='fab fa-github fa-lg'></i></a>
          
          <a class="footer-social" href="https://twitter.com/alloydwhitlock"><i class='fab fa-twitter fa-lg'></i></a>
          
          <a class="footer-social" href="https://www.discogs.com/user/alloydwhitlock"><i class='fas fa-record-vinyl'></i></a>
          
        
      
    </layer>
    <layer>
      <p>
        
        Website theme is <a class="has-text-weight-semibold" href="http://github.com/alloydwhitlock/huey">Huey</a> by <a class="has-text-weight-semibold" href="https://adamwhitlock.com">Adam Whitlock</a>.
      </p>
      <p>
         &copy; 2022 Adam Whitlock
      </p>
    </layer>
  </div>
</footer></div><script async src="//static.getclicky.com/101349619.js"></script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101349619ns.gif" /></p></noscript></body>
</html>